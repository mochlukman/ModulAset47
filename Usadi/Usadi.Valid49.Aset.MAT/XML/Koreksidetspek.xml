<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="Koreksidetspek" xmlns="http://ibatis.apache.org/mapping" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <alias>
    <typeAlias alias="Koreksidetspek" type="Usadi.Valid49.BO.KoreksidetspekControl, Usadi.Valid49.Aset.MAT" />
  </alias>
  <resultMaps>
    <resultMap id="return-result" class="Koreksidetspek">
      <result property="Id" column="ID"/>
      <result property="Asetkey" column="ASETKEY"/>
      <result property="Kdaset" column="KDASET"/>
      <result property="Nmaset" column="NMASET"/>
      <result property="Spesifikasi" column="SPESIFIKASI"/>
      <result property="Ket" column="KET"/>
      <result property="Unitkey" column="UNITKEY"/>
      <result property="Nobakoreksi" column="NOBAKOREKSI"/>
      <result property="Idbrg" column="IDBRG"/>
      <result property="Kdpemilik" column="KDPEMILIK"/>
      <result property="Nmpemilik" column="NMPEMILIK"/>
      <result property="Noreg" column="NOREG"/>
      <result property="Kdkib" column="KDKIB"/>
      <result property="Kdhak" column="KDHAK"/>
      <result property="Nmhak" column="NMHAK"/>
      <result property="Kdsatuan" column="KDSATUAN"/>
      <result property="Nmsatuan" column="NMSATUAN"/>
      <result property="Asalusul" column="ASALUSUL"/>
      <result property="Pengguna" column="PENGGUNA"/>
      <result property="Alamat" column="ALAMAT"/>
      <result property="Nofikat" column="NOFIKAT"/>
      <result property="Tgfikat" column="TGFIKAT"/>
      <result property="Utara" column="UTARA"/>
      <result property="Timur" column="TIMUR"/>
      <result property="Selatan" column="SELATAN"/>
      <result property="Barat" column="BARAT"/>
      <result property="Lokasi" column="LOKASI"/>
      <result property="Luastnh" column="LUASTNH"/>
      <result property="Kdwarna" column="KDWARNA"/>
      <result property="Nmwarna" column="NMWARNA"/>
      <result property="Merktype" column="MERKTYPE"/>
      <result property="Ukuran" column="UKURAN"/>
      <result property="Bahan" column="BAHAN"/>
      <result property="Nopabrik" column="NOPABRIK"/>
      <result property="Norangka" column="NORANGKA"/>
      <result property="Nopolisi" column="NOPOLISI"/>
      <result property="Nobpkb" column="NOBPKB"/>
      <result property="Nomesin" column="NOMESIN"/>
      <result property="Bertingkat" column="BERTINGKAT"/>
      <result property="Beton" column="BETON"/>
      <result property="Luaslt" column="LUASLT"/>
      <result property="Nodokgdg" column="NODOKGDG"/>
      <result property="Tgdokgdg" column="TGDOKGDG"/>
      <result property="Nokdtanah" column="NOKDTANAH"/>
      <result property="Nodokjij" column="NODOKJIJ"/>
      <result property="Tgdokjij" column="TGDOKJIJ"/>
      <result property="Konstruksi" column="KONSTRUKSI"/>
      <result property="Panjang" column="PANJANG"/>
      <result property="Lebar" column="LEBAR"/>
      <result property="Luas" column="LUAS"/>
      <result property="Jdlpenerbit" column="JDLPENERBIT"/>
      <result property="Bkpencipta" column="BKPENCIPTA"/>
      <result property="Asaldaerah" column="ASALDAERAH"/>
      <result property="Pencipta" column="PENCIPTA"/>
      <result property="Jenis" column="JENIS"/>
      <result property="Nodokkdp" column="NODOKKDP"/>
      <result property="Tgdokkdp" column="TGDOKKDP"/>
      <result property="Tgmulai" column="TGMULAI"/>
      <result property="Kdfisik" column="KDFISIK"/>
      <result property="Nmfisik" column="NMFISIK"/>
      <result property="Tahun" column="TAHUN"/>
    </resultMap>
  </resultMaps>
  <statements>
    <insert id="InsertKoreksidetspek" parameterMap="insert-param">
      <generate table="Aset_Koreksidetspek"/>
    </insert>
    <!--<insert id="InsertKoreksidetspek" parameterClass="Koreksidetspek">-->
      <!--INSERT INTO ASET_KOREKSIDETSPEK (NOREG,ASETKEY,KDKIB,SPESIFIKASI,KET,UNITKEY,NOBAKOREKSI,IDBRG,KDPEMILIK,KDHAK,KDSATUAN,ASALUSUL,PENGGUNA,ALAMAT,NOFIKAT,TGFIKAT,UTARA,TIMUR,SELATAN,BARAT,LOKASI,LUASTNH,KDWARNA,MERKTYPE,UKURAN,BAHAN,NOPABRIK,NORANGKA,NOPOLISI,NOBPKB,NOMESIN,BERTINGKAT,BETON,LUASLT,NODOKGDG,TGDOKGDG,NOKDTANAH,NODOKJIJ,TGDOKJIJ,KONSTRUKSI,PANJANG,LEBAR,LUAS,JDLPENERBIT,BKPENCIPTA,ASALDAERAH,PENCIPTA,JENIS,NODOKKDP,TGDOKKDP,TGMULAI,KDFISIK)
      VALUES (#Noreg#,#Asetkey#,#Kdkib#,#Spesifikasi#,#Ket#,#Unitkey#,#Nobakoreksi#,#Idbrg#,#Kdpemilik#,#Kdhak#,#Kdsatuan#,#Asalusul#,#Pengguna#,#Alamat#,#Nofikat#,#Tgfikat#,#Utara#,#Timur#,#Selatan#,#Barat#,#Lokasi#,#Luastnh#,#Kdwarna#,#Merktype#,#Ukuran#,#Bahan#,#Nopabrik#,#Norangka#,#Nopolisi#,#Nobpkb#,#Nomesin#,#Bertingkat#,#Beton#,#Luaslt#,#Nodokgdg#,#Tgdokgdg#,#Nokdtanah#,#Nodokjij#,#Tgdokjij#,#Konstruksi#,#Panjang#,#Lebar#,#Luas#,#Jdlpenerbit#,#Bkpencipta#,#Asaldaerah#,#Pencipta#,#Jenis#,#Nodokkdp#,#Tgdokkdp#,#Tgmulai#,#Kdfisik#)-->
    <!--</insert>-->
    <update id="UpdateByKoreksidetspek" parameterClass="Koreksidetspek">
      IF #Kdkib#='01'
      BEGIN
      update ASET_KOREKSIDETSPEK
      set KDPEMILIK=#Kdpemilik#,KDSATUAN=#Kdsatuan#,ASALUSUL=#Asalusul#,PENGGUNA=#Pengguna#,SPESIFIKASI=#Spesifikasi#,LOKASI=#Lokasi#,KET=#Ket#, KDHAK=#Kdhak#,ALAMAT=#Alamat#,NOFIKAT=#Nofikat#,TGFIKAT=#Tgfikat#,UTARA=#Utara#,TIMUR=#Timur#,SELATAN=#Selatan#,BARAT=#Barat#,LUASTNH=#Luastnh#
      where UNITKEY=#Unitkey# and NOBAKOREKSI=#Nobakoreksi# and IDBRG=#Idbrg#
      END ELSE
      IF #Kdkib#='02'
      BEGIN
      update ASET_KOREKSIDETSPEK
      set KDPEMILIK=#Kdpemilik#,KDSATUAN=#Kdsatuan#,ASALUSUL=#Asalusul#,PENGGUNA=#Pengguna#,SPESIFIKASI=#Spesifikasi#,LOKASI=#Lokasi#,KET=#Ket#, KDWARNA=#Kdwarna#,MERKTYPE=#Merktype#,UKURAN=#Ukuran#,BAHAN=#Bahan#,NOPABRIK=#Nopabrik#,NORANGKA=#Norangka#,NOPOLISI=#Nopolisi#,NOBPKB=#Nobpkb#,NOMESIN=#Nomesin#
      where UNITKEY=#Unitkey# and NOBAKOREKSI=#Nobakoreksi# and IDBRG=#Idbrg#
      END
      ELSE
      IF #Kdkib#='03'
      BEGIN
      update ASET_KOREKSIDETSPEK
      set KDPEMILIK=#Kdpemilik#,KDSATUAN=#Kdsatuan#,ASALUSUL=#Asalusul#,PENGGUNA=#Pengguna#,SPESIFIKASI=#Spesifikasi#,LOKASI=#Lokasi#,KET=#Ket#,  BERTINGKAT=#Bertingkat#,BETON=#Beton#,LUASLT=#Luaslt#,NODOKGDG=#Nodokgdg#,TGDOKGDG=#Tgdokgdg#,NOKDTANAH=#Nokdtanah#,LUASTNH=#Luastnh#
      where UNITKEY=#Unitkey# and NOBAKOREKSI=#Nobakoreksi# and IDBRG=#Idbrg#
      END
      IF #Kdkib#='04'
      BEGIN
      update ASET_KOREKSIDETSPEK
      set KDPEMILIK=#Kdpemilik#,KDSATUAN=#Kdsatuan#,ASALUSUL=#Asalusul#,PENGGUNA=#Pengguna#,SPESIFIKASI=#Spesifikasi#,LOKASI=#Lokasi#,KET=#Ket#,  KDHAK=#Kdhak#,ALAMAT=#Alamat#,NODOKJIJ=#Nodokjij#,TGDOKJIJ=#Tgdokjij#,KONSTRUKSI=#Konstruksi#,PANJANG=#Panjang#,LEBAR=#Lebar#,LUAS=#Luas#
      where UNITKEY=#Unitkey# and NOBAKOREKSI=#Nobakoreksi# and IDBRG=#Idbrg#
      END
      IF #Kdkib#='05'
      BEGIN
      update ASET_KOREKSIDETSPEK
      set KDPEMILIK=#Kdpemilik#,KDSATUAN=#Kdsatuan#,ASALUSUL=#Asalusul#,PENGGUNA=#Pengguna#,SPESIFIKASI=#Spesifikasi#,LOKASI=#Lokasi#,KET=#Ket#,  UKURAN=#Ukuran#,BAHAN=#Bahan#,JDLPENERBIT=#Jdlpenerbit#,BKPENCIPTA=#Bkpencipta#,ASALDAERAH=#Asaldaerah#,PENCIPTA=#Pencipta#,JENIS=#Jenis#
      where UNITKEY=#Unitkey# and NOBAKOREKSI=#Nobakoreksi# and IDBRG=#Idbrg#
      END
      IF #Kdkib#='06'
      BEGIN
      update ASET_KOREKSIDETSPEK
      set KDPEMILIK=#Kdpemilik#,KDSATUAN=#Kdsatuan#,ASALUSUL=#Asalusul#,PENGGUNA=#Pengguna#,SPESIFIKASI=#Spesifikasi#,LOKASI=#Lokasi#,KET=#Ket#,  BERTINGKAT=#Bertingkat#,BETON=#Beton#,LUASLT=#Luaslt#,NODOKKDP=#Nodokkdp#,TGDOKKDP=#Tgdokkdp#,TGMULAI=#Tgmulai#,KDFISIK=#Kdfisik#
      where UNITKEY=#Unitkey# and NOBAKOREKSI=#Nobakoreksi# and IDBRG=#Idbrg#
      END
    </update>
    <update id="UpdateByValidRevKoreksidetspek" parameterClass="Koreksidetspek">
      update ASET_KOREKSIDETSPEK set REV_BY=#Rev_by# and REV_DATE=#Rev_date#
    </update>
    <update id="UpdateByUnValidRevKoreksidetspek" parameterClass="Koreksidetspek">
      update ASET_KOREKSIDETSPEK set REV_BY='' and REV_DATE=null
    </update>
    <delete id="DeleteByKoreksidetspek" parameterMap="delete-param">
      <generate table="Aset_koreksidetspek" by="UNITKEY,NOBAKOREKSI,IDBRG"/>
    </delete>
    <select id="BaseQueryKoreksidetspek" parameterClass="Koreksidetspek" resultMap="return-result">
      select A.NOREG,A.ASETKEY,D.KDASET, D.NMASET,j.NMPEMILIK,A.SPESIFIKASI,A.KET,A.BARAT,A.ID,A.IDBRG,A.KDFISIK,A.KDHAK,j2.NMHAK,A.KDKIB,A.KDPEMILIK,A.KDSATUAN,s.NMSATUAN,A.TIMUR,A.UNITKEY,A.UTARA,A.ASALUSUL,A.PENGGUNA,A.ALAMAT,A.LUASTNH,
      A.KDWARNA,W.NMWARNA,A.MERKTYPE,A.UKURAN,A.BAHAN,A.NOPABRIK,A.NORANGKA,A.NOPOLISI,A.NOBPKB,A.NOMESIN,
      A.LEBAR,A.LOKASI,A.LUAS,A.LUASLT,A.NOBAKOREKSI,A.PANJANG,A.SELATAN,A.TGDOKGDG,A.TGDOKJIJ,A.TGDOKKDP,A.NOFIKAT,A.TGFIKAT,A.TGMULAI,
      A.NODOKGDG,A.TGDOKGDG,A.LUASLT,A.NOKDTANAH,CAST(A.BETON as Varchar(1)) BETON,CAST(A.BERTINGKAT as Varchar(1)) BERTINGKAT,
      NODOKJIJ,TGDOKJIJ,KONSTRUKSI,PANJANG,LEBAR,LUAS,JDLPENERBIT,BKPENCIPTA,ASALDAERAH,PENCIPTA,JENIS,NODOKKDP,TGDOKKDP,TGMULAI,A.KDFISIK,NMFISIK,TAHUN
      from Aset_Koreksidetspek A
      left join DAFTASET D ON D.ASETKEY = A.ASETKEY
      LEFT JOIN JMILIK AS j ON j.KDPEMILIK = A.KDPEMILIK
      LEFT JOIN JHAK AS j2 ON j2.KDHAK = A.KDHAK
      LEFT JOIN SATUAN AS s ON s.KDSATUAN = A.KDSATUAN
      LEFT JOIN WARNA AS w ON w.KDWARNA = A.KDWARNA
      LEFT JOIN JFISIK AS j3 ON j3.KDFISIK = A.KDFISIK
    </select>
    <select id="QueryByAllKoreksidetspek" extends="BaseQueryKoreksidetspek" parameterClass="Koreksidetspek" resultMap="return-result">
      where 1=1
      and A.UNITKEY=#Unitkey#
      and A.NOBAKOREKSI=#Nobakoreksi#
    </select>
    <select id="QueryByLookupKoreksidetspek" extends="BaseQueryKoreksidetspek" parameterClass="Koreksidetspek" resultMap="return-result">
      where 1=1
      and A.UNITKEY=#Unitkey#
      and A.NOBAKOREKSI=#Nobakoreksi#
    </select>
    <select id="LoadByPKKoreksidetspek" parameterClass="Koreksidetspek" resultMap="return-result">
      select A.NOREG,A.ASETKEY,D.KDASET, D.NMASET,j.NMPEMILIK,A.SPESIFIKASI,A.KET,A.BARAT,A.BERTINGKAT,A.BETON,A.ID,A.IDBRG,A.KDFISIK,A.KDHAK,j2.NMHAK,A.KDKIB,A.KDPEMILIK,A.KDSATUAN,s.NMSATUAN,A.TIMUR,A.UNITKEY,A.UTARA,A.ASALUSUL,A.PENGGUNA,A.ALAMAT,A.LUASTNH,
      A.KDWARNA,W.NMWARNA,A.MERKTYPE,A.UKURAN,A.BAHAN,A.NOPABRIK,A.NORANGKA,A.NOPOLISI,A.NOBPKB,A.NOMESIN,
      A.LEBAR,A.LOKASI,A.LUAS,A.LUASLT,A.NOBAKOREKSI,A.PANJANG,A.SELATAN,A.TGDOKGDG,A.TGDOKJIJ,A.TGDOKKDP,A.NOFIKAT,A.TGFIKAT,A.TGMULAI
      from Aset_Koreksidetspek A
      left join DAFTASET D ON D.ASETKEY = A.ASETKEY
      LEFT JOIN JMILIK AS j ON j.KDPEMILIK = A.KDPEMILIK
      LEFT JOIN JHAK AS j2 ON j2.KDHAK = A.KDHAK
      LEFT JOIN SATUAN AS s ON s.KDSATUAN = A.KDSATUAN
      LEFT JOIN WARNA AS w ON w.KDWARNA = A.KDWARNA
      where A.UNITKEY=#Unitkey# and A.NOBAKOREKSI=#Nobakoreksi# and A.IDBRG=#Idbrg# AND A.ASETKEY=#Asetkey#
    </select>
  </statements>
  <parameterMaps>
    <parameterMap id="insert-param" class="Koreksidetspek">
      <parameter property="Asetkey" column="ASETKEY"/>
      <parameter property="Unitkey" column="UNITKEY"/>
      <parameter property="Nobakoreksi" column="NOBAKOREKSI"/>
      <parameter property="Idbrg" column="IDBRG"/>
      <parameter property="Spesifikasi" column="SPESIFIKASI"/>
      <parameter property="Ket" column="KET"/>
      <parameter property="Kdpemilik" column="KDPEMILIK"/>
      <parameter property="Noreg" column="NOREG"/>
      <parameter property="Kdkib" column="KDKIB"/>
      <parameter property="Kdhak" column="KDHAK"/>
      <parameter property="Kdsatuan" column="KDSATUAN"/>
      <parameter property="Asalusul" column="ASALUSUL"/>
      <parameter property="Pengguna" column="PENGGUNA"/>
      <parameter property="Alamat" column="ALAMAT"/>
      <parameter property="Nofikat" column="NOFIKAT"/>
      <parameter property="Tgfikat" column="TGFIKAT"/>
      <parameter property="Utara" column="UTARA"/>
      <parameter property="Timur" column="TIMUR"/>
      <parameter property="Selatan" column="SELATAN"/>
      <parameter property="Barat" column="BARAT"/>
      <parameter property="Lokasi" column="LOKASI"/>
      <parameter property="Luastnh" column="LUASTNH"/>
      <parameter property="Kdwarna" column="KDWARNA"/>
      <parameter property="Merktype" column="MERKTYPE"/>
      <parameter property="Ukuran" column="UKURAN"/>
      <parameter property="Bahan" column="BAHAN"/>
      <parameter property="Nopabrik" column="NOPABRIK"/>
      <parameter property="Norangka" column="NORANGKA"/>
      <parameter property="Nopolisi" column="NOPOLISI"/>
      <parameter property="Nobpkb" column="NOBPKB"/>
      <parameter property="Nomesin" column="NOMESIN"/>
      <parameter property="Bertingkat" column="BERTINGKAT"/>
      <parameter property="Beton" column="BETON"/>
      <parameter property="Luaslt" column="LUASLT"/>
      <parameter property="Nodokgdg" column="NODOKGDG"/>
      <parameter property="Tgdokgdg" column="TGDOKGDG"/>
      <parameter property="Nokdtanah" column="NOKDTANAH"/>
      <parameter property="Nodokjij" column="NODOKJIJ"/>
      <parameter property="Tgdokjij" column="TGDOKJIJ"/>
      <parameter property="Konstruksi" column="KONSTRUKSI"/>
      <parameter property="Panjang" column="PANJANG"/>
      <parameter property="Lebar" column="LEBAR"/>
      <parameter property="Luas" column="LUAS"/>
      <parameter property="Jdlpenerbit" column="JDLPENERBIT"/>
      <parameter property="Bkpencipta" column="BKPENCIPTA"/>
      <parameter property="Asaldaerah" column="ASALDAERAH"/>
      <parameter property="Pencipta" column="PENCIPTA"/>
      <parameter property="Jenis" column="JENIS"/>
      <parameter property="Nodokkdp" column="NODOKKDP"/>
      <parameter property="Tgdokkdp" column="TGDOKKDP"/>
      <parameter property="Tgmulai" column="TGMULAI"/>
      <parameter property="Kdfisik" column="KDFISIK"/>
      <parameter property="Tahun" column="TAHUN"/>
    </parameterMap>
    <parameterMap id="update-param" extends="insert-param" class="Koreksidetspek">
    </parameterMap>
    <parameterMap id="delete-param" class="Koreksidetspek">
      <parameter property="Unitkey" column="UNITKEY"/>
      <parameter property="Nobakoreksi" column="NOBAKOREKSI"/>
      <parameter property="Idbrg" column="IDBRG"/>
    </parameterMap>
  </parameterMaps>
</sqlMap>

